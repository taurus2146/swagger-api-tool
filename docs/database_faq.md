# 数据库存储系统常见问题解答 (FAQ)

## 基础问题

### Q1: 什么是数据库存储系统？
**A**: 数据库存储系统是项目管理工具的核心数据存储组件，使用SQLite数据库替代了原来的JSON文件存储方式。它提供了更高的性能、更好的数据完整性和更强的查询能力。

**主要优势**:
- 更快的数据查询和搜索
- 更好的数据完整性保证
- 支持复杂的数据关系
- 更高效的存储空间利用
- 支持事务和并发访问

### Q2: 为什么要从JSON文件迁移到数据库？
**A**: 随着项目数量的增长，JSON文件存储方式的局限性逐渐显现：

**JSON文件的问题**:
- 查询速度慢，需要加载整个文件
- 不支持复杂查询和索引
- 并发访问容易导致数据损坏
- 大文件时内存占用过高
- 缺乏数据完整性检查

**数据库的优势**:
- 支持索引，查询速度快
- 支持SQL查询语言
- 内置事务和锁机制
- 按需加载数据，内存效率高
- 完整的数据完整性约束

### Q3: 数据库文件存储在哪里？
**A**: 默认存储位置因操作系统而异：

- **Windows**: `C:\Users\用户名\Documents\ProjectManager\database.db`
- **macOS**: `~/Documents/ProjectManager/database.db`
- **Linux**: `~/Documents/ProjectManager/database.db`

您可以在"设置 → 数据库设置"中查看和修改数据库文件位置。

### Q4: 数据库文件有多大？
**A**: 数据库文件大小取决于存储的项目数量和数据复杂度：

- **小型使用** (< 100个项目): 通常 < 1MB
- **中型使用** (100-1000个项目): 通常 1-10MB
- **大型使用** (> 1000个项目): 通常 10-100MB

数据库会自动压缩和优化存储空间。

### Q5: 可以同时使用多个数据库吗？
**A**: 是的，系统支持多数据库功能：

- 可以创建多个独立的数据库文件
- 通过"数据库切换"菜单在不同数据库间切换
- 每个数据库包含独立的项目和配置数据
- 适用于不同工作环境或项目分类

## 安装和设置

### Q6: 如何启用数据库功能？
**A**: 数据库功能在新版本中默认启用：

1. **新安装**: 首次启动时自动创建数据库
2. **升级安装**: 系统会提示进行数据迁移
3. **手动启用**: 在设置中选择"启用数据库存储"

### Q7: 数据迁移会丢失数据吗？
**A**: 不会。数据迁移过程非常安全：

- 迁移前自动备份原始JSON文件
- 迁移过程中保留原文件不变
- 迁移后进行数据完整性验证
- 支持迁移失败时的回滚操作
- 提供详细的迁移日志

### Q8: 迁移需要多长时间？
**A**: 迁移时间取决于数据量：

- **< 100个项目**: 通常 < 30秒
- **100-1000个项目**: 通常 1-5分钟
- **> 1000个项目**: 通常 5-30分钟

大数据量迁移会显示进度条和预计剩余时间。

### Q9: 可以取消正在进行的迁移吗？
**A**: 可以，但不建议：

- 迁移过程中可以点击"取消"按钮
- 取消后会自动回滚已迁移的数据
- 原始JSON文件保持不变
- 可以稍后重新开始迁移

## 使用和操作

### Q10: 数据库模式下的操作有什么不同？
**A**: 大部分操作保持不变，但有一些改进：

**相同的操作**:
- 创建、编辑、删除项目
- 项目搜索和过滤
- 配置设置

**改进的功能**:
- 搜索速度更快
- 支持更复杂的查询条件
- 支持按多个字段排序
- 支持批量操作

**新增功能**:
- 数据库管理工具
- 自动备份功能
- 数据完整性检查
- 性能监控

### Q11: 如何搜索项目？
**A**: 数据库模式提供了更强大的搜索功能：

**基本搜索**:
- 在搜索框输入关键词
- 支持项目名称、描述、标签搜索
- 支持模糊匹配和精确匹配

**高级搜索**:
- 使用搜索过滤器
- 按创建时间、修改时间过滤
- 按项目状态、标签组合过滤
- 支持正则表达式搜索

### Q12: 如何备份数据？
**A**: 提供多种备份方式：

**自动备份**:
- 在"数据库设置"中启用自动备份
- 可设置备份频率（每日/每周/每月）
- 自动清理过期备份文件

**手动备份**:
- 点击"立即备份"按钮
- 选择备份文件保存位置
- 支持备份到云存储

**文件备份**:
- 直接复制数据库文件
- 简单但需要确保应用程序已关闭

### Q13: 如何恢复数据？
**A**: 支持多种恢复方式：

**从备份恢复**:
1. 打开"数据库设置"
2. 点击"恢复数据"
3. 选择备份文件
4. 选择恢复模式（完全/合并）
5. 确认恢复操作

**从文件恢复**:
- 关闭应用程序
- 用备份文件替换当前数据库文件
- 重新启动应用程序

## 性能和优化

### Q14: 如何提高数据库性能？
**A**: 可以通过以下方式优化性能：

**系统设置**:
- 调整数据库缓存大小
- 启用WAL模式
- 定期运行数据库维护

**使用习惯**:
- 定期清理无用项目
- 避免过长的项目描述
- 合理使用标签分类

**硬件优化**:
- 使用SSD硬盘
- 增加系统内存
- 定期清理磁盘空间

### Q15: 数据库文件过大怎么办？
**A**: 可以通过以下方式减小文件大小：

**数据清理**:
- 删除不需要的项目
- 清理项目历史记录
- 压缩项目描述和标签

**数据库维护**:
- 运行"VACUUM"命令压缩数据库
- 重建索引优化存储
- 清理临时数据

**分库管理**:
- 创建多个数据库文件
- 按项目类型或时间分库
- 归档旧项目数据

### Q16: 查询速度慢怎么办？
**A**: 查询性能问题的解决方案：

**诊断问题**:
- 使用性能监控工具
- 查看慢查询日志
- 分析查询执行计划

**优化措施**:
- 重建数据库索引
- 更新表统计信息
- 调整查询缓存大小
- 优化查询条件

## 安全和加密

### Q17: 数据库数据是否安全？
**A**: 系统提供多层安全保护：

**文件安全**:
- 数据库文件存储在用户目录
- 操作系统级别的文件权限保护
- 支持文件系统加密

**数据加密**:
- 可选的主密码保护
- 敏感字段自动加密
- 使用AES-256加密算法

**访问控制**:
- 应用程序级别的访问控制
- 数据库连接密码保护
- 操作日志记录

### Q18: 如何设置主密码？
**A**: 设置主密码的步骤：

1. 打开"设置 → 安全设置"
2. 点击"设置主密码"
3. 输入强密码（建议包含字母、数字、符号）
4. 确认密码
5. 设置密码提示（可选）
6. 设置安全问题（用于密码重置）

### Q19: 忘记主密码怎么办？
**A**: 提供多种密码恢复方式：

**安全问题重置**:
- 回答设置时的安全问题
- 通过验证后重置密码

**备份密钥恢复**:
- 使用设置时保存的备份密钥
- 输入备份密钥重置密码

**技术支持**:
- 联系技术支持协助
- 可能需要提供身份验证
- 最后手段，可能丢失加密数据

### Q20: 可以禁用加密功能吗？
**A**: 可以，但需要注意：

**禁用步骤**:
1. 输入当前主密码
2. 在安全设置中选择"禁用加密"
3. 确认操作（会解密所有数据）
4. 重启应用程序

**注意事项**:
- 禁用后数据以明文存储
- 安全性会降低
- 可以随时重新启用

## 故障排除

### Q21: 数据库连接失败怎么办？
**A**: 常见的解决方案：

**检查文件**:
- 确认数据库文件存在
- 检查文件权限是否正确
- 确认磁盘空间充足

**重启应用**:
- 完全关闭应用程序
- 等待几秒后重新启动
- 检查是否有其他实例在运行

**重建数据库**:
- 从备份恢复数据库
- 或者重新创建数据库文件

### Q22: 数据显示不正确怎么办？
**A**: 数据问题的排查步骤：

**数据验证**:
- 运行数据库完整性检查
- 使用诊断工具扫描问题
- 查看错误日志

**数据修复**:
- 使用自动修复功能
- 重建数据库索引
- 从备份恢复特定数据

**预防措施**:
- 启用自动备份
- 定期运行维护工具
- 及时更新软件版本

### Q23: 应用程序启动缓慢怎么办？
**A**: 启动性能优化：

**数据库优化**:
- 运行数据库清理工具
- 重建索引和统计信息
- 调整缓存设置

**系统优化**:
- 关闭不必要的后台程序
- 清理系统临时文件
- 检查硬盘健康状态

**配置调整**:
- 调整启动时的数据加载量
- 禁用不必要的启动检查
- 优化数据库连接设置

## 高级功能

### Q24: 如何使用多数据库功能？
**A**: 多数据库管理步骤：

**创建新数据库**:
1. 打开"数据库设置"
2. 点击"新建数据库"
3. 选择文件位置和名称
4. 设置数据库参数

**切换数据库**:
1. 使用"数据库切换"菜单
2. 选择目标数据库
3. 确认切换操作
4. 等待数据加载完成

**管理数据库**:
- 重命名数据库
- 删除不需要的数据库
- 导入/导出数据库
- 查看数据库统计信息

### Q25: 如何导入/导出数据？
**A**: 数据导入导出功能：

**导出数据**:
- 支持导出为JSON格式
- 支持导出为CSV格式
- 支持导出为SQL脚本
- 可选择导出范围和字段

**导入数据**:
- 支持从JSON文件导入
- 支持从CSV文件导入
- 支持从其他数据库导入
- 提供数据映射和转换功能

### Q26: 如何自定义数据库配置？
**A**: 高级配置选项：

**性能配置**:
- 调整连接池大小
- 设置查询超时时间
- 配置缓存策略

**存储配置**:
- 选择日志模式（WAL/DELETE）
- 设置同步模式
- 配置自动清理

**安全配置**:
- 设置访问权限
- 配置加密参数
- 设置审计日志

## 技术支持

### Q27: 如何获取技术支持？
**A**: 多种支持渠道：

**自助资源**:
- 在线文档和教程
- 视频演示和指南
- 社区论坛和FAQ

**直接支持**:
- 邮件技术支持
- 在线客服聊天
- 电话技术支持
- 远程协助服务

**紧急支持**:
- 24小时紧急热线
- 优先技术支持
- 现场技术服务

### Q28: 如何报告问题或建议？
**A**: 反馈渠道：

**问题报告**:
- 通过应用内反馈功能
- 发送邮件到 bugs@projectmanager.com
- 在社区论坛发帖

**功能建议**:
- 发送邮件到 feature@projectmanager.com
- 参与用户调研活动
- 加入用户测试计划

**提供信息**:
- 详细描述问题现象
- 提供错误截图或日志
- 说明操作系统和软件版本
- 提供重现步骤

### Q29: 软件更新会影响数据库吗？
**A**: 更新处理机制：

**自动处理**:
- 更新前自动备份数据库
- 自动检测和升级数据库结构
- 保持数据完整性和兼容性

**手动确认**:
- 重大更新会提示用户确认
- 提供更新详情和影响说明
- 支持更新回滚

**最佳实践**:
- 更新前手动备份重要数据
- 在测试环境先验证更新
- 关注更新日志和说明

### Q30: 如何参与产品改进？
**A**: 参与方式：

**用户反馈**:
- 提供使用体验反馈
- 报告发现的问题
- 建议新功能和改进

**测试计划**:
- 参与Beta版本测试
- 加入用户体验研究
- 参与功能设计讨论

**社区贡献**:
- 在论坛帮助其他用户
- 分享使用技巧和经验
- 参与文档翻译和改进

---

## 联系信息

- **官方网站**: https://www.projectmanager.com
- **技术支持**: support@projectmanager.com
- **用户论坛**: https://community.projectmanager.com
- **文档中心**: https://docs.projectmanager.com

---

*本FAQ最后更新时间: 2024年1月*
*文档版本: 1.0*
*适用软件版本: ProjectManager 2.0+*

*如果您的问题没有在此FAQ中找到答案，请联系我们的技术支持团队。*